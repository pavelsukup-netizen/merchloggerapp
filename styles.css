/* ===============================
   Merch Visits Mobile Logger
   Modern UI styles (no Tailwind build)
   =============================== */

:root{
  --bg: #0b1220;
  --bg2: #0f1b2f;
  --surface: #ffffff;
  --surface2: #f6f8fc;

  --text: #0f172a;
  --muted: #55657a;

  --stroke: rgba(15, 23, 42, .10);
  --stroke2: rgba(15, 23, 42, .14);

  --shadow: 0 10px 30px rgba(15, 23, 42, .10);
  --shadow2: 0 6px 18px rgba(15, 23, 42, .10);

  --primary: #2563eb;   /* blue */
  --primary2:#60a5fa;

  --violet:  #7c3aed;
  --violet2: #a78bfa;

  --ok:   #10b981;
  --bad:  #f43f5e;
  --warn: #f59e0b;

  --pill: #eef2ff;

  --q-blue:   #e8f1ff;  /* checkbox q */
  --q-violet: #f3e8ff;  /* furniture_trigger q */
  --q-gray:   #eef2f7;  /* photo q */
  --q-yellow: #fff6d8;  /* open multiselect q */

  --radius: 18px;
  --radius-sm: 14px;
}

/* Base */
*{ box-sizing:border-box; }
html, body { height:100%; }
body{
  margin:0;
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
  color: var(--text);
  background:
    radial-gradient(1000px 600px at 10% 0%, rgba(96,165,250,.35), transparent 55%),
    radial-gradient(900px 700px at 90% 10%, rgba(167,139,250,.35), transparent 55%),
    linear-gradient(180deg, #f4f7ff 0%, #f6f8fc 55%, #f8fafc 100%);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#app, #main{
  max-width: 820px;
  margin: 0 auto;
  padding: 14px 12px 90px;
}

/* Topbar bits (if present) */
.sb{
  position: sticky;
  top: 0;
  z-index: 20;
  backdrop-filter: blur(10px);
  background: rgba(255,255,255,.70);
  border: 1px solid var(--stroke);
  border-radius: var(--radius);
  box-shadow: var(--shadow2);
  padding: 10px 12px;
  margin: 6px 0 12px;
}

.sbRow{
  display:flex;
  align-items:center;
  gap:10px;
  flex-wrap: wrap;
}

.sbTitle{
  font-weight: 900;
  letter-spacing: .2px;
}
.sbSub{
  font-size: 12px;
  color: var(--muted);
}

/* Panels & cards */
.panel{
  border-radius: calc(var(--radius) + 4px);
  padding: 12px;
  border: 1px solid var(--stroke);
  box-shadow: var(--shadow2);
  background: rgba(255,255,255,.70);
  backdrop-filter: blur(10px);
}

.panelBlue{
  background:
    radial-gradient(700px 240px at 0% 0%, rgba(37,99,235,.18), transparent 55%),
    rgba(255,255,255,.72);
  border-color: rgba(37,99,235,.18);
}

.panelGreen{
  background:
    radial-gradient(700px 240px at 0% 0%, rgba(16,185,129,.18), transparent 55%),
    rgba(255,255,255,.72);
  border-color: rgba(16,185,129,.18);
}

.card{
  background: rgba(255,255,255,.92);
  border: 1px solid var(--stroke);
  border-radius: var(--radius);
  box-shadow: var(--shadow);
  padding: 14px;
}

.card + .card{ margin-top: 12px; }

h2{
  margin: 0 0 10px;
  font-size: 18px;
  letter-spacing: .2px;
}

p{ margin: 8px 0; }
.small{
  font-size: 12px;
  color: var(--muted);
}
.meta{
  margin-top: 8px;
  font-size: 12px;
  color: rgba(85, 101, 122, .92);
}

.hr{
  height:1px;
  background: rgba(15,23,42,.10);
  margin: 12px 0;
  border-radius: 999px;
}

.row{
  display:flex;
  align-items:center;
  gap:10px;
  flex-wrap: wrap;
}
.spacer{ flex: 1; }

/* Inputs */
.inp, select, textarea, input[type="file"]{
  font: inherit;
}

.inp, select, textarea{
  width: 100%;
  border-radius: var(--radius-sm);
  border: 1px solid var(--stroke2);
  background: #fff;
  padding: 12px 12px;
  box-shadow: 0 2px 10px rgba(15,23,42,.06);
  outline: none;
}

textarea{
  min-height: 96px;
  resize: vertical;
}

.inp:focus, select:focus, textarea:focus{
  border-color: rgba(37,99,235,.45);
  box-shadow: 0 0 0 4px rgba(37,99,235,.15), 0 2px 10px rgba(15,23,42,.08);
}

/* Buttons */
.btn{
  appearance: none;
  border: 1px solid var(--stroke2);
  background: #fff;
  color: var(--text);
  border-radius: 999px;
  padding: 10px 14px;
  font-weight: 800;
  letter-spacing: .2px;
  box-shadow: 0 6px 16px rgba(15,23,42,.10);
  cursor: pointer;
  transition: transform .08s ease, box-shadow .12s ease, filter .12s ease, background .12s ease;
  user-select: none;
}

.btn:active{ transform: translateY(1px) scale(.99); }
.btn:disabled{
  opacity: .55;
  cursor: not-allowed;
  filter: grayscale(.2);
}

.btn.primary{
  border: 0;
  color: #fff;
  background: linear-gradient(135deg, var(--primary) 0%, var(--primary2) 100%);
}
.btn.ok{
  border: 0;
  color:#07301f;
  background: linear-gradient(135deg, rgba(16,185,129,.35), rgba(16,185,129,.18));
}
.btn.bad{
  border: 0;
  color:#3b0a16;
  background: linear-gradient(135deg, rgba(244,63,94,.25), rgba(244,63,94,.14));
}
.btn.warn{
  border: 0;
  color:#3a2203;
  background: linear-gradient(135deg, rgba(245,158,11,.35), rgba(245,158,11,.18));
}
.btn.ghost{
  background: rgba(255,255,255,.85);
}

.btn:hover{ filter: brightness(1.02); }
.btn.primary:hover{ filter: brightness(1.05); }

/* Pills (chips/badges) */
.pill{
  display:inline-flex;
  align-items:center;
  gap:8px;
  padding: 7px 12px;
  border-radius: 999px;
  border: 1px solid rgba(15,23,42,.10);
  background: rgba(255,255,255,.75);
  color: rgba(15,23,42,.85);
  font-size: 12px;
  font-weight: 800;
}
.pill.ok{
  background: rgba(16,185,129,.16);
  border-color: rgba(16,185,129,.25);
  color: #064e3b;
}
.pill.bad{
  background: rgba(244,63,94,.14);
  border-color: rgba(244,63,94,.22);
  color: #7f1d1d;
}
.pill.warn{
  background: rgba(245,158,11,.18);
  border-color: rgba(245,158,11,.26);
  color: #7c2d12;
}

/* Lists */
.list{
  display:flex;
  flex-direction: column;
  gap: 10px;
}
.item{
  background: rgba(255,255,255,.92);
  border: 1px solid var(--stroke);
  border-radius: var(--radius);
  box-shadow: 0 8px 22px rgba(15,23,42,.08);
  padding: 12px;
}

/* Questions */
.q{
  border-radius: var(--radius);
  border: 1px solid var(--stroke);
  background: rgba(255,255,255,.92);
  box-shadow: 0 10px 26px rgba(15,23,42,.08);
  padding: 12px;
  margin-top: 12px;
}

.ql{
  font-weight: 950;
  font-size: 15px;
  letter-spacing: .2px;
}

.req{
  color: var(--bad);
  font-weight: 900;
  margin-left: 4px;
}

/* Type-specific backgrounds */
.q[data-qtype="checkbox"]{
  background: var(--q-blue);
  border-color: rgba(37,99,235,.18);
}

.q[data-qtype="furniture_trigger"]{
  background: var(--q-violet);
  border-color: rgba(124,58,237,.18);
}

.q[data-qtype="photo"]{
  background: var(--q-gray);
  border-color: rgba(15,23,42,.12);
}

/* Multiselect base (collapsed) */
.q[data-qtype="select"][data-multi="1"]{
  background: rgba(255,255,255,.92);
}

/* Multiselect OPEN background (uses :has - modern Chrome/Android OK) */
.q[data-qtype="select"][data-multi="1"]:has([data-mstoggle][aria-expanded="true"]){
  background: var(--q-yellow);
  border-color: rgba(245,158,11,.22);
}

/* The arrow toggle button â€“ background color (not only arrow!) */
.btn.ghost[data-mstoggle]{
  width: 52px;
  height: 44px;
  padding: 0;
  border-radius: 16px;
  display:inline-flex;
  align-items:center;
  justify-content:center;
  border: 0;
  color: #fff;
  box-shadow: 0 10px 20px rgba(15,23,42,.18);
}

.btn.ghost[data-mstoggle][aria-expanded="false"]{
  background: linear-gradient(135deg, #2563eb 0%, #60a5fa 100%); /* blue */
}

.btn.ghost[data-mstoggle][aria-expanded="true"]{
  background: linear-gradient(135deg, #7c3aed 0%, #a78bfa 100%); /* violet */
}

/* Multiselect body */
.msBody{
  margin-top: 10px;
  padding: 10px;
  border-radius: var(--radius);
  background: rgba(255,255,255,.70);
  border: 1px solid rgba(15,23,42,.10);
  box-shadow: 0 8px 22px rgba(15,23,42,.06);
}

/* If list is huge, keep it scrollable */
.msBody .row{
  gap: 10px;
}
.msBody .row:last-child{
  margin-top: 10px;
}

.msBody{
  max-height: 340px;
  overflow: auto;
}

/* Multi options grid */
.msBody > .row{
  display:grid;
  grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
  align-items: start;
}

/* Chip-like checkbox labels inside multiselect */
.q[data-qtype="select"][data-multi="1"] label.pill{
  justify-content: flex-start;
  background: rgba(255,255,255,.75);
  border-color: rgba(15,23,42,.10);
  padding: 10px 12px;
  font-size: 13px;
  font-weight: 850;
  box-shadow: 0 6px 16px rgba(15,23,42,.06);
}

.q[data-qtype="select"][data-multi="1"] label.pill.ok{
  background: rgba(16,185,129,.16);
  border-color: rgba(16,185,129,.26);
}

/* Make checkbox prettier but keep it functional */
.q[data-qtype="select"][data-multi="1"] input[type="checkbox"]{
  width: 18px;
  height: 18px;
  accent-color: var(--ok);
}

/* Photo grid */
.photoGrid{
  display:grid;
  grid-template-columns: repeat(3, minmax(0, 1fr));
  gap: 10px;
  margin-top: 10px;
}

.ph{
  position: relative;
  overflow: hidden;
  border-radius: 16px;
  border: 1px solid rgba(15,23,42,.12);
  background: #fff;
  box-shadow: 0 8px 18px rgba(15,23,42,.08);
  aspect-ratio: 1 / 1;
}

.ph img{
  width: 100%;
  height: 100%;
  object-fit: cover;
  display:block;
}

.ph .btn.ghost{
  position:absolute;
  top: 8px;
  right: 8px;
  width: 34px;
  height: 34px;
  padding: 0;
  border-radius: 999px;
  background: rgba(255,255,255,.85);
  border: 1px solid rgba(15,23,42,.10);
  box-shadow: 0 8px 18px rgba(15,23,42,.12);
}

/* Labels */
label{
  font-size: 12px;
  font-weight: 850;
  color: rgba(15,23,42,.72);
  display:block;
  margin: 10px 0 6px;
}

/* File input polish */
input[type="file"]{
  width: 100%;
  border-radius: var(--radius-sm);
  border: 1px dashed rgba(15,23,42,.18);
  background: rgba(255,255,255,.70);
  padding: 10px 12px;
}

/* Better spacing between sections on visit */
.card > .q:first-of-type{ margin-top: 10px; }

/* Mobile tweaks */
@media (max-width: 420px){
  #app, #main{ padding: 12px 10px 90px; }
  .photoGrid{ grid-template-columns: repeat(2, minmax(0, 1fr)); }
  .btn{ padding: 10px 12px; }
}

/* Reduce motion a bit */
@media (prefers-reduced-motion: reduce){
  .btn{ transition: none; }
}
